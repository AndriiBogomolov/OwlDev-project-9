{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAGAC,EAAAF,GAASG,OAAOC,KAAK,CACnBC,cAAc,IAKhB,IAAIC,EAAsB,GACtBC,EAAoB,GAExB,MAAMC,EAAO,CACXC,eAAgBC,SAASC,cAAc,iBACvCC,WAAYF,SAASC,cAAc,YACnCE,cAAeH,SAASC,cAAc,cACtCG,YAAaJ,SAASC,cAAc,eA8BtC,SAASI,IAIP,GAFAP,EAAKK,cAAcG,UAAUC,IAAI,cACjCT,EAAKM,YAAYE,UAAUE,OAAO,cAEc,MAA9CC,aAAaC,QA5CY,UA6CwC,GAAjEC,KAAKC,MAAMH,aAAaC,QA7CC,UA6C8BG,OAIvD,OAFArB,EAAAF,GAASG,OAAOqB,QAAQ,wCACxBC,IAGFnB,EAAsBe,KAAKC,MAAMH,aAAaC,QAnDnB,UAqD3BM,EADmBpB,E,CAIrB,SAASqB,IAGP,GAFAnB,EAAKK,cAAcG,UAAUE,OAAO,cACpCV,EAAKM,YAAYE,UAAUC,IAAI,cAEe,MAA5CE,aAAaC,QA3DU,UA4DwC,GAA/DC,KAAKC,MAAMH,aAAaC,QA5DD,UA4D8BG,OAMrD,OAJAf,EAAKI,WAAWgB,UAAY,GAC5B1B,EAAAF,GAASG,OAAOqB,QAAQ,iCACxBC,SACAjB,EAAKK,cAAcgB,iBAAiB,QAASd,GAG/CR,EAAoBc,KAAKC,MAAMH,aAAaC,QApEnB,UAqEzB,IAAIU,EAAevB,EACnBwB,QAAQC,IAAIF,GAGoC,MAA9CX,aAAaC,QA1EY,UA2EwC,GAAjEC,KAAKC,MAAMH,aAAaC,QA3EC,UA2E8BG,SAEvDQ,QAAQC,IACN,4CACAb,aAAaC,QA/EU,UAiFzBK,IACAjB,EAAKK,cAAcgB,iBAAiB,QAASd,IAE/CW,EAAWI,E,CAGN,SAASJ,EAAWI,GACzB,MAAMG,EAASH,EAAaI,KAAI,EAACC,IAAEA,EAAGC,KAAEA,EAAIC,MAAEA,EAAKC,GAAEA,EAAEC,IAAEA,EAAGC,KAAEA,KAErD,iEACmDF,2GAI3CC,wBACAJ,6IAKoBA,yFAEEE,OAAWD,iDAdjCK,OAAOD,0DAmBrBE,KAAK,IACRlC,EAAKI,WAAWgB,UAAYK,C,CAGvB,SAASR,IACdjB,EAAKI,WAAWgB,UACd,wU,CAtGJG,QAAQC,IAAIxB,GAIZ,WACE,IAAKA,EAAKC,eAAeO,UAAU2B,SAAS,sBAC1C,OACK,GAC0C,OAA/CxB,aAAaC,QApBY,UAqByC,IAAlEC,KAAKC,MAAMH,aAAaC,QArBC,UAqB8BG,OAEvDQ,QAAQC,IAAI,4BAAoD1B,GAChEJ,EAAAF,GAASG,OAAOqB,QAAQ,mCACxBC,IAEAjB,EAAKM,YAAYe,iBAAiB,QAASF,OACvC,CACJrB,EAAsBe,KAAKC,MACzBH,aAAaC,QA9BU,UAiCzBM,EADmBpB,GAEnBE,EAAKK,cAAcgB,iBAAiB,QAASd,GAC7CP,EAAKM,YAAYe,iBAAiB,QAASF,E,EArB/CiB","sources":["src/js/library.js"],"sourcesContent":["import Notiflix from 'notiflix';\n// import { markupCard } from '../watched-queue/watched-queue-markup';\n\nNotiflix.Notify.init({\n  clickToClose: true,\n});\n\nconst LOCAL_STORGE_WATCHED = 'watch';\nconst LOCAL_STORGE_QUEUE = 'queue';\nlet LocalStgWatchedData = [];\nlet LocalStgQueueData = [];\n\nconst refs = {\n  libraryCurrent: document.querySelector('#library-link'),\n  galleryRef: document.querySelector('.gallery'),\n  watchedButton: document.querySelector('.btn-watch'),\n  queueButton: document.querySelector('.btn-queue'),\n};\n\nconsole.log(refs);\n\ncurrentPageCheck();\n\nfunction currentPageCheck() {\n  if (!refs.libraryCurrent.classList.contains('nav__link--current')) {\n    return;\n  } else if (\n    localStorage.getItem(LOCAL_STORGE_WATCHED) === null ||\n    JSON.parse(localStorage.getItem(LOCAL_STORGE_WATCHED)).length === 0\n  ) {\n    console.log('Перевірка при завантажені', LocalStgWatchedData);\n    Notiflix.Notify.failure('There are no films in WATCHED !');\n    addImgIfLocalStgEmpty();\n\n    refs.queueButton.addEventListener('click', onQueueButton);\n  }else {\n    LocalStgWatchedData = JSON.parse(\n      localStorage.getItem(LOCAL_STORGE_WATCHED)\n    );\n    let LocalStgData = LocalStgWatchedData;\n    markupCard(LocalStgData);\n    refs.watchedButton.addEventListener('click', onWatchedButton);\n    refs.queueButton.addEventListener('click', onQueueButton);\n  }\n}\n\nfunction onWatchedButton() {\n  // refs.galleryRef.innerHTML = '';\n  refs.watchedButton.classList.add('btn-active');\n  refs.queueButton.classList.remove('btn-active');\n  if (\n    localStorage.getItem(LOCAL_STORGE_WATCHED) == null ||\n    JSON.parse(localStorage.getItem(LOCAL_STORGE_WATCHED)).length == 0\n  ) {\n    Notiflix.Notify.failure('There are no films in WATCHED !');\n    addImgIfLocalStgEmpty();\n    return;\n  }\n  LocalStgWatchedData = JSON.parse(localStorage.getItem(LOCAL_STORGE_WATCHED));\n  let LocalStgData = LocalStgWatchedData;\n  markupCard(LocalStgData);\n}\n\nfunction onQueueButton() {\n  refs.watchedButton.classList.remove('btn-active');\n  refs.queueButton.classList.add('btn-active');\n  if (\n    localStorage.getItem(LOCAL_STORGE_QUEUE) == null ||\n    JSON.parse(localStorage.getItem(LOCAL_STORGE_QUEUE)).length == 0\n  ) {\n    refs.galleryRef.innerHTML = '';\n    Notiflix.Notify.failure('There are no films in Queue !');\n    addImgIfLocalStgEmpty();\n    refs.watchedButton.addEventListener('click', onWatchedButton);\n    return;\n  }\n  LocalStgQueueData = JSON.parse(localStorage.getItem(LOCAL_STORGE_QUEUE));\n  let LocalStgData = LocalStgQueueData;\n  console.log(LocalStgData);\n\n  if (\n    localStorage.getItem(LOCAL_STORGE_WATCHED) == null ||\n    JSON.parse(localStorage.getItem(LOCAL_STORGE_WATCHED)).length == 0\n  ) {\n    console.log(\n      'onWatchedButton всередині функції onQUEUE',\n      localStorage.getItem(LOCAL_STORGE_WATCHED)\n    );\n    addImgIfLocalStgEmpty();\n    refs.watchedButton.addEventListener('click', onWatchedButton);\n  }\n  markupCard(LocalStgData);\n}\n\nexport function markupCard(LocalStgData) {\n  const markup = LocalStgData.map(({ alt, date, genre, id, src, vote }) => {\n    const rating = Number(vote);\n    return `\n                <li class=\"gallery__item card-set\" data-id=\"${id}\">\n        <div class=\"img-wrap\">\n          <img\n            class=\"gallery__img\"\n            src=\"${src}\"\n            alt=\"${alt}\"\n            loading=\"lazy\"\n          />\n        </div>\n        <div class=\"gallary-wrapper\">\n          <h2 class=\"gallery__title\">${alt}</h2>\n          <div class=\"gallery__wrap\">\n            <p class=\"gallery__ganres\">${genre} | ${date}</p>\n            <p class=\"gallery__rating\">${rating}</p>\n          </div>\n        </div>\n      </li>`;\n  }).join('');\n  refs.galleryRef.innerHTML = markup;\n}\n\nexport function addImgIfLocalStgEmpty() {\n  refs.galleryRef.innerHTML =\n    '<div class=\"img-emp\"><h2 style=\"font-size: 17px; text-align: center; margin-bottom: 20px;\">You have not chosen anything yet!</h2><img class=\"img-for-empty\" style=\" max-width: 704px; \" src=\"https://kartinkin.net/pics/uploads/posts/2022-08/1660180902_1-kartinkin-net-p-fon-kinoteatr-krasivo-1.jpg\" alt=\" \" loading=\"lazy\"/></div>';\n}\n"],"names":["$eWCmQ","parcelRequire","$parcel$interopDefault","Notify","init","clickToClose","$1cafa503bc57b7a0$var$LocalStgWatchedData","$1cafa503bc57b7a0$var$LocalStgQueueData","$1cafa503bc57b7a0$var$refs","libraryCurrent","document","querySelector","galleryRef","watchedButton","queueButton","$1cafa503bc57b7a0$var$onWatchedButton","classList","add","remove","localStorage","getItem","JSON","parse","length","failure","$1cafa503bc57b7a0$export$347f927d5e059c64","$1cafa503bc57b7a0$export$7c6f20cf2792bee5","$1cafa503bc57b7a0$var$onQueueButton","innerHTML","addEventListener","LocalStgData","console","log","markup","map","alt","date","genre","id","src","vote","Number","join","contains","$1cafa503bc57b7a0$var$currentPageCheck"],"version":3,"file":"library.a8f52133.js.map"}