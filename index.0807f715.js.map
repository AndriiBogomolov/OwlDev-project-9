{"mappings":"AAAA,IAAMA,SAAWC,SAASC,cAAc,SAClCC,IACJ,2FAEIC,SAAW,wGAEjB,SAASC,cACN,OAAOC,MAAMF,UAAUG,MAAK,SAAAC,GAC3B,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE5B,OAAOH,EAASI,M,IAInB,SAASC,SAASC,GAChB,IAAIC,EAAY,GAIf,OAHDD,EAAUE,SAAQ,SAAAC,GAChBF,EAAUG,KAAKC,WAAWC,MAAK,SAAAC,G,OAASA,EAAMC,KAAOL,C,IAAUM,K,IAEzDR,C,CAWV,SAASS,eACP,OAAOlB,MAAMH,KAAKI,MAAK,SAAAC,GACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,IAIpB,SAASa,WAAWC,GAClBA,EAAMC,QAAQC,KAAI,SAAAC,GAChB,IACIC,EADO,IAAIC,KAAKF,EAAKG,cACFC,cACvBnB,UAAUe,EAAKf,UAEf,IAAIoB,EAASrB,SAASC,WACtB,OAAQd,SAASmC,WAAa,gGAKiCC,OAJFd,GAAG,6RAUpBc,OANmBP,EAAKQ,YAAY,0OAOtCD,OADEP,EAAKS,eAAe,uDACVF,OAAZF,EAAO,OAAiBE,OAAZN,EAAY,kF,IAOtE,SAASS,gBACPf,eACGjB,MAAK,SAAAmB,G,OAASD,WAAWC,E,IACzBc,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,IA9ChCpC,cAAcE,MAAK,SAAAqC,GACjBzB,WAAayB,EAAQV,M,IAGpBM,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,IA6C9BF","sources":["src/js/popular-films.js"],"sourcesContent":["const cardList = document.querySelector('.card');\nconst URL =\n  'https://api.themoviedb.org/3/trending/movie/day?api_key=177f83f5259c7f846e561f4715bd03a4';\n\nconst URLgenre = 'https://api.themoviedb.org/3/genre/movie/list?api_key=177f83f5259c7f846e561f4715bd03a4&language=en-US';\n\nfunction fetchGenres() {\n   return fetch(URLgenre).then(responce => {\n    if (!responce.ok) {\n      throw new Error(responce.statusText);\n    }\n   return responce.json();\n   })\n}\n\nfunction getGenre(genre_ids) { \n  let genreName = [];\n  genre_ids.forEach(genre_id => { \n    genreName.push(genreIdArr.find(genre => genre.id === genre_id).name);\n  })\n   return genreName;\n}\n\nfetchGenres().then(genreId => {\n  genreIdArr = genreId.genres;\n  //console.log(genreIdArr)\n  })\n  .catch(error => console.log(error));\n\n\n\nfunction fetchPopular() {\n  return fetch(URL).then(responce => {\n    if (!responce.ok) {\n      throw new Error(responce.statusText);\n    }\n    return responce.json();\n  });\n}\n\nfunction renderList(films) {\n  films.results.map(film => {\n    let year = new Date(film.release_date);\n    let yearRelease = year.getFullYear();\n    genre_ids=film.genre_ids\n   \n    let genres = getGenre(genre_ids);\n    return (cardList.innerHTML += `<li class=\"card__item item\">\n                  <a class=\"card__link link\" href=\"#\" data-id=\"${id}\">\n                    <div class=\"card__thumb\">\n                      <img class=\"card__img\"\n                        sizes=\"(min-width: 1280px) 370px, (min-width: 768px) 354px, (max-width: 767px) 450px, 100vw\"\n                        src='https://www.themoviedb.org/t/p/w500/${film.poster_path}'\n                        alt=\"tehnocryak\"\n                        width=\"100%\"\n                      />\n                    </div>\n                    <div class=\"card__meta\">\n                      <h2 class=\"card__title\">${film.original_title}</h2>\n                      <p class=\"card__info\">${genres} | ${yearRelease}</p>\n                    </div>\n                  </a>\n                </li>`);\n  });\n}\n\nfunction markupPopular() {\n  fetchPopular()\n    .then(films => renderList(films))\n    .catch(error => console.log(error));\n}\n\nmarkupPopular();\n\n\n\n\n\n"],"names":["cardList","document","querySelector","URL","URLgenre","fetchGenres","fetch","then","responce","ok","Error","statusText","json","getGenre","genre_ids","genreName","forEach","genre_id","push","genreIdArr","find","genre","id","name","fetchPopular","renderList","films","results","map","film","yearRelease","Date","release_date","getFullYear","genres","innerHTML","concat","poster_path","original_title","markupPopular","catch","error","console","log","genreId"],"version":3,"file":"index.0807f715.js.map"}