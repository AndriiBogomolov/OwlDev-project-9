const e={openFooterModal:document.querySelector('[data-action="open-lightbox"]'),closeFooterModal:document.querySelector('[data-action="close-lightbox"]'),lightboxFooterModal:document.querySelector(".js-lightbox")};e.openFooterModal.addEventListener("click",(function(){e.lightboxFooterModal.classList.remove("visually-hidden")})),e.closeFooterModal.addEventListener("click",(function(){e.lightboxFooterModal.classList.add("visually-hidden")}));const t=document.querySelector(".card");function o(e){e.results.map((e=>{let o=new Date(e.release_date).getFullYear();genre_ids=e.genre_ids;let n=function(e){let t=[];return e.forEach((e=>{t.push(genreIdArr.find((t=>t.id===e)).name)})),t}(genre_ids);return t.innerHTML+=`<li class="card__item item">\n                  <a class="card__link link" href="#" id="${e.id}" data-id="${e.id}" data-film-open>\n                    <div class="card__thumb">\n                      <img class="card__img"                      \n                        sizes="(min-width: 1200px) 370px, (min-width: 768px) 354px, (max-width: 767px) 450px, 100vw"\n                        src='https://www.themoviedb.org/t/p/w500/${e.poster_path}'\n                        alt="tehnocryak"\n                        width="100%"\n                      />\n                    </div>\n                    <div class="card__meta">\n                      <h2 class="card__title">${e.original_title}</h2>\n                      <p class="card__info">${n} | ${o}</p>\n                    </div>\n                  </a>\n                </li>`}))}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=177f83f5259c7f846e561f4715bd03a4&language=en-US").then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>{genreIdArr=e.genres})).catch((e=>console.log(e))),fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=177f83f5259c7f846e561f4715bd03a4").then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>o(e))).catch((e=>console.log(e)));async function n(e){const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=0f09f0e29eb26a1e28b4809ac59dbd60`);if(!t.ok)throw new Error(t.status);return await t.json()}const i=document.querySelector(".card"),r=document.querySelector(".backdrop"),d=document.querySelector(".close-button");function a(){r.classList.add("is-hidden"),document.body.style.overflow="visible"}function c(e){"Escape"===e.code&&(document.removeEventListener("keydown",c),a())}i.addEventListener("click",(function(e){if(!e.target.closest("li"))return;if(e.target.closest("li")){const t=e.target.closest("li").dataset.id,o=document.querySelector(".information");o&&o.remove(),n(t).then((e=>{renderMovieModal(e);document.querySelector('[data-name="modal-wrapper"]').addEventListener("click",onAddMovie)})).catch((e=>console.log(e))),document.body.style.overflow="hidden",r.classList.remove("is-hidden"),document.addEventListener("keydown",c)}})),d.addEventListener("click",a),r.addEventListener("click",(function(e){e.currentTarget===e.target&&a()}));
//# sourceMappingURL=index.29a2223b.js.map
