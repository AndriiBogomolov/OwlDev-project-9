{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAGAC,EAAAF,GAASG,OAAOC,KAAK,CACnBC,cAAc,IAGhB,IAAMC,EAAuB,QACvBC,EAAqB,QACvBC,EAAsB,GAGpBC,EAAO,CACXC,eAAgBC,SAASC,cAAc,iBACvCC,WAAYF,SAASC,cAAc,YACnCE,cAAeH,SAASC,cAAc,cACtCG,YAAaJ,SAASC,cAAc,eA8BtC,SAASI,IAIP,GAFAP,EAAKK,cAAcG,UAAUC,IAAI,cACjCT,EAAKM,YAAYE,UAAUE,OAAO,cAEc,MAA9CC,aAAaC,QAAQf,IAC4C,GAAjEgB,KAAKC,MAAMH,aAAaC,QAAQf,IAAuBkB,OAIvD,OAFAtB,EAAAF,GAASG,OAAOsB,QAAQ,wCACxBC,IAKFC,EAFAnB,EAAsBc,KAAKC,MAAMH,aAAaC,QAAQf,I,CAKxD,SAASsB,IAGP,GAFAnB,EAAKK,cAAcG,UAAUE,OAAO,cACpCV,EAAKM,YAAYE,UAAUC,IAAI,cAEe,MAA5CE,aAAaC,QAAQd,IAC0C,GAA/De,KAAKC,MAAMH,aAAaC,QAAQd,IAAqBiB,OAMrD,OAJAf,EAAKI,WAAWgB,UAAY,GAC5B3B,EAAAF,GAASG,OAAOsB,QAAQ,iCACxBC,SACAjB,EAAKK,cAAcgB,iBAAiB,QAASd,GAI/C,IAAIe,EADgBT,KAAKC,MAAMH,aAAaC,QAAQd,IAEpDyB,QAAQC,IAAIF,GAGoC,MAA9CX,aAAaC,QAAQf,IAC4C,GAAjEgB,KAAKC,MAAMH,aAAaC,QAAQf,IAAuBkB,SAEvDQ,QAAQC,IACN,4CACAb,aAAaC,QAAQf,IAEvBoB,IACAjB,EAAKK,cAAcgB,iBAAiB,QAASd,IAE/CW,EAAWI,E,CAGN,SAASJ,EAAWI,GACzB,IACMG,EAASH,EAAaI,KAAI,SAAAC,G,IAAGC,EAAcD,EAAdC,eAAgBC,EAAYF,EAAZE,aAAcC,EAAKH,EAALG,MAAOC,EAAEJ,EAAFI,GAAIC,EAAWL,EAAXK,YAAaC,EAAUN,EAAVM,WAAWC,EAAYP,EAAZO,aAEnFC,OAAOF,GACtB,MAAO,iEAKQG,OAJ2CL,EAAG,2GAIpCK,OATX,oCAUCA,OADUJ,EAAY,wBAMFI,OALpBR,EAAe,8IAOOQ,OAFFR,EAAe,yFAEFQ,OAAXN,EAAM,OACNM,OADWP,EAAa,iDACXO,OAAbF,EAAa,sD,IAIjDG,KAAK,IACRrC,EAAKI,WAAWgB,UAAYK,C,CAGvB,SAASR,IACdjB,EAAKI,WAAWgB,UACd,wU,CAxGJG,QAAQC,IAAIxB,GAIZ,WACE,IAAKA,EAAKC,eAAeO,UAAU8B,SAAS,sBAC1C,OAE+C,OAA/C3B,aAAaC,QAAQf,IAC6C,IAAlEgB,KAAKC,MAAMH,aAAaC,QAAQf,IAAuBkB,QAEvDQ,QAAQC,IAAI,4BAAoDzB,GAChEN,EAAAF,GAASG,OAAOsB,QAAQ,mCACxBC,IAEAjB,EAAKM,YAAYe,iBAAiB,QAASF,KAM3CD,EAJAnB,EAAsBc,KAAKC,MACzBH,aAAaC,QAAQf,KAIvBG,EAAKK,cAAcgB,iBAAiB,QAASd,GAC7CP,EAAKM,YAAYe,iBAAiB,QAASF,G,CArB/CoB,E","sources":["src/js/library.js"],"sourcesContent":["import Notiflix from 'notiflix';\n// import { markupCard } from '../watched-queue/watched-queue-markup';\n\nNotiflix.Notify.init({\n  clickToClose: true,\n});\n\nconst LOCAL_STORGE_WATCHED = 'watch';\nconst LOCAL_STORGE_QUEUE = 'queue';\nlet LocalStgWatchedData = [];\nlet LocalStgQueueData = [];\n\nconst refs = {\n  libraryCurrent: document.querySelector('#library-link'),\n  galleryRef: document.querySelector('.gallery'),\n  watchedButton: document.querySelector('.btn-watch'),\n  queueButton: document.querySelector('.btn-queue'),\n};\n\nconsole.log(refs);\n\ncurrentPageCheck();\n\nfunction currentPageCheck() {\n  if (!refs.libraryCurrent.classList.contains('nav__link--current')) {\n    return;\n  } else if (\n    localStorage.getItem(LOCAL_STORGE_WATCHED) === null ||\n    JSON.parse(localStorage.getItem(LOCAL_STORGE_WATCHED)).length === 0\n  ) {\n    console.log('Перевірка при завантажені', LocalStgWatchedData);\n    Notiflix.Notify.failure('There are no films in WATCHED !');\n    addImgIfLocalStgEmpty();\n\n    refs.queueButton.addEventListener('click', onQueueButton);\n  }else {\n    LocalStgWatchedData = JSON.parse(\n      localStorage.getItem(LOCAL_STORGE_WATCHED)\n    );\n    let LocalStgData = LocalStgWatchedData;\n    markupCard(LocalStgData);\n    refs.watchedButton.addEventListener('click', onWatchedButton);\n    refs.queueButton.addEventListener('click', onQueueButton);\n  }\n}\n\nfunction onWatchedButton() {\n  // refs.galleryRef.innerHTML = '';\n  refs.watchedButton.classList.add('btn-active');\n  refs.queueButton.classList.remove('btn-active');\n  if (\n    localStorage.getItem(LOCAL_STORGE_WATCHED) == null ||\n    JSON.parse(localStorage.getItem(LOCAL_STORGE_WATCHED)).length == 0\n  ) {\n    Notiflix.Notify.failure('There are no films in WATCHED !');\n    addImgIfLocalStgEmpty();\n    return;\n  }\n  LocalStgWatchedData = JSON.parse(localStorage.getItem(LOCAL_STORGE_WATCHED));\n  let LocalStgData = LocalStgWatchedData;\n  markupCard(LocalStgData);\n}\n\nfunction onQueueButton() {\n  refs.watchedButton.classList.remove('btn-active');\n  refs.queueButton.classList.add('btn-active');\n  if (\n    localStorage.getItem(LOCAL_STORGE_QUEUE) == null ||\n    JSON.parse(localStorage.getItem(LOCAL_STORGE_QUEUE)).length == 0\n  ) {\n    refs.galleryRef.innerHTML = '';\n    Notiflix.Notify.failure('There are no films in Queue !');\n    addImgIfLocalStgEmpty();\n    refs.watchedButton.addEventListener('click', onWatchedButton);\n    return;\n  }\n  LocalStgQueueData = JSON.parse(localStorage.getItem(LOCAL_STORGE_QUEUE));\n  let LocalStgData = LocalStgQueueData;\n  console.log(LocalStgData);\n\n  if (\n    localStorage.getItem(LOCAL_STORGE_WATCHED) == null ||\n    JSON.parse(localStorage.getItem(LOCAL_STORGE_WATCHED)).length == 0\n  ) {\n    console.log(\n      'onWatchedButton всередині функції onQUEUE',\n      localStorage.getItem(LOCAL_STORGE_WATCHED)\n    );\n    addImgIfLocalStgEmpty();\n    refs.watchedButton.addEventListener('click', onWatchedButton);\n  }\n  markupCard(LocalStgData);\n}\n\nexport function markupCard(LocalStgData) {\n  const filmImg = 'https://image.tmdb.org/t/p/w500/'\n  const markup = LocalStgData.map(({ original_title, release_date, genre, id, poster_path, vote_count,vote_average\n  }) => {\n    const rating = Number(vote_count);\n    return `\n                <li class=\"gallery__item card-set\" data-id=\"${id}\">\n        <div class=\"img-wrap\">\n          <img\n            class=\"gallery__img\"\n            src=\"${filmImg}${poster_path}\"\n            alt=\"${original_title}}\"\n            loading=\"lazy\"\n          />\n        </div>\n        <div class=\"gallary-wrapper\">\n          <h2 class=\"gallery__title\">${original_title}</h2>\n          <div class=\"gallery__wrap\">\n            <p class=\"gallery__ganres\">${genre} | ${release_date}</p>\n            <p class=\"gallery__rating\">${vote_average}</p>\n          </div>\n        </div>\n      </li>`;\n  }).join('');\n  refs.galleryRef.innerHTML = markup;\n}\n\nexport function addImgIfLocalStgEmpty() {\n  refs.galleryRef.innerHTML =\n    '<div class=\"img-emp\"><h2 style=\"font-size: 17px; text-align: center; margin-bottom: 20px;\">You have not chosen anything yet!</h2><img class=\"img-for-empty\" style=\" max-width: 704px; \" src=\"https://kartinkin.net/pics/uploads/posts/2022-08/1660180902_1-kartinkin-net-p-fon-kinoteatr-krasivo-1.jpg\" alt=\" \" loading=\"lazy\"/></div>';\n}\n"],"names":["$iU1Pc","parcelRequire","$parcel$interopDefault","Notify","init","clickToClose","$93effc6fc56091ad$var$LOCAL_STORGE_WATCHED","$93effc6fc56091ad$var$LOCAL_STORGE_QUEUE","$93effc6fc56091ad$var$LocalStgWatchedData","$93effc6fc56091ad$var$refs","libraryCurrent","document","querySelector","galleryRef","watchedButton","queueButton","$93effc6fc56091ad$var$onWatchedButton","classList","add","remove","localStorage","getItem","JSON","parse","length","failure","$93effc6fc56091ad$export$347f927d5e059c64","$93effc6fc56091ad$export$7c6f20cf2792bee5","$93effc6fc56091ad$var$onQueueButton","innerHTML","addEventListener","LocalStgData","console","log","markup","map","param","original_title","release_date","genre","id","poster_path","vote_count","vote_average","Number","concat","join","contains","$93effc6fc56091ad$var$currentPageCheck"],"version":3,"file":"library.3086d5e6.js.map"}