const e={openFooterModal:document.querySelector('[data-action="open-lightbox"]'),closeFooterModal:document.querySelector('[data-action="close-lightbox"]'),lightboxFooterModal:document.querySelector(".js-lightbox")};e.openFooterModal.addEventListener("click",(function(){e.lightboxFooterModal.classList.remove("visually-hidden")})),e.closeFooterModal.addEventListener("click",(function(){e.lightboxFooterModal.classList.add("visually-hidden")}));const t={film:document.querySelector("#id"),modalOpen:document.querySelector("[data-film-open]"),modalClose:document.querySelector("[data-film-close]"),modal:document.querySelector("[data-film]"),modalFilmImg:document.querySelector(".modal__img"),modalFilmTitle:document.querySelector(".modal__title"),modalFilmVote:document.querySelector(".vote"),modalFilmVotes:document.querySelector(".votes"),modalFilmPopularity:document.querySelector(".popularity"),modalFilmOrigTitle:document.querySelector(".orig-title"),modalFilmGenre:document.querySelector(".genre"),modalFilmDescription:document.querySelector(".about__text")};init(),refs.searchForm.addEventListener("submit",onSearchForm),(()=>{function e(){document.body.classList.toggle("film-open"),t.modal.classList.toggle("is-hidden")}t.modalOpen.forEach((t=>{t.addEventListener("click",e)})),t.modalClose.addEventListener("click",e)})(),t.modalOpen.addEventListener("click",(function(e){(function(){const e=t.film.getAttribute(id);return fetch(`https://api.themoviedb.org//${e}?api_key=177f83f5259c7f846e561f4715bd03a4`).then((e=>{if(!e.ok)throw new Error;return e.json()})).catch((e=>Notify.failure("Sorry, something goes wrong. Please, try again")))})().then((e=>function(e){const o=e.genres.map((e=>e.name)).join(", ");t.modalFilmImg.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,t.modalFilmImg.alt=`${e.title} poster`,t.modalFilmTitle.textContent=e.title,t.modalFilmVote.textContent=e.vote_average,t.modalFilmVotes.textContent=e.vote_count,t.modalFilmPopularity.textContent=e.popularity,t.modalFilmOrigTitle.textContent=e.original_title,t.modalFilmDescription.textContent=e.overview,t.modalFilmGenre.textContent=o}(e)))}));const o=document.querySelector(".card");function n(e){e.results.map((e=>{let t=new Date(e.release_date).getFullYear();genre_ids=e.genre_ids;let n=function(e){let t=[];return e.forEach((e=>{t.push(genreIdArr.find((t=>t.id===e)).name)})),t}(genre_ids);return o.innerHTML+=`<li class="card__item item">\n                  <a class="card__link link" href="#" data-modal-open>\n                  <div class="card__thumb">\n                  <img class="card__img"\n                    sizes="(min-width: 1280px) 370px, (min-width: 768px) 354px, (max-width: 767px) 450px, 100vw"\n                    src='https://www.themoviedb.org/t/p/w500/${e.poster_path}'\n                    alt="tehnocryak"\n                    width="100%"\n                  />\n                </div>\n                <div class="card__meta">\n                  <h2 class="card__title">${e.original_title}</h2>\n                  <p class="card__info">${n} | ${t}</p>\n                </div>\n              </a>\n            </li>`}))}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=177f83f5259c7f846e561f4715bd03a4&language=en-US").then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>{genreIdArr=e.genres})).catch((e=>console.log(e))),fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=177f83f5259c7f846e561f4715bd03a4").then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>n(e))).catch((e=>console.log(e))),window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout((function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")}),500)};
//# sourceMappingURL=index.61e1ade3.js.map
