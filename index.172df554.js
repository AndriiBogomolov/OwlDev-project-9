!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){a[e]=n},n.parcelRequired7c6=r),function(){var e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};function n(){e.modal.classList.toggle("is-hidden")}e.openModalBtn.addEventListener("click",n),e.closeModalBtn.addEventListener("click",n)}(),r("UL92Z"),r("4F07H");var i,o=document.querySelector(".card");function c(e){e.results.map((function(e){var n=new Date(e.release_date).getFullYear(),t=function(e){var n=[];return e.forEach((function(e){n.push(i.find((function(n){return n.id===e})).name)})),n}(e.genre_ids);return o.innerHTML+='<li class="card__item item">\n\n                  <a class="card__link link" href="#" id="'.concat(e.id,'" data-id="').concat(e.id,'" data-film-open>\n                    <div class="card__thumb">\n                      <img class="card__img"                      \n                        sizes="(min-width: 1200px) 370px, (min-width: 768px) 354px, (max-width: 767px) 450px, 100vw"\n                        src=\'https://www.themoviedb.org/t/p/w500/').concat(e.poster_path,'\'\n                        alt="tehnocryak"\n                        width="100%"\n                        class="card__img"\n                      />\n                    </div>\n                    <div class="card__meta">\n                      <h2 class="card__title">').concat(e.original_title,'</h2>\n                      <p class="card__info">').concat(t," | ").concat(n,"</p>\n                    </div>\n                  </a>\n                </li>")}))}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=177f83f5259c7f846e561f4715bd03a4&language=en-US").then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){return i=e.genres})).catch((function(e){return console.log(e)})),r("cgQ4j"),window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout((function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")}),500)},r("gEnLM"),r("4Nugj");var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")};var u={};function l(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,n,t){n&&l(e.prototype,n);t&&l(e,t);return e};var d,f=r("iU1Pc"),p=r("4Nugj"),g=r("1h2Gi"),h=(g=r("1h2Gi"),document.querySelector("input")),v=document.querySelector("button"),y=new(function(){"use strict";function n(){e(s)(this,n),this.page=1,this.searchQuery=""}return e(u)(n,[{key:"fetchPopularMovies",value:function(){var e="".concat(g.BASE_URL,"/trending/movie/day?api_key=").concat(g.API_KEY,"&page=").concat(this.page);return fetch(e).then((function(e){return e.json()}))}},{key:"fetchMoviesByRequest",value:function(){var e="".concat(g.BASE_URL,"/search/movie?api_key=").concat(g.API_KEY,"&language=en-US&query=").concat(this.searchQuery,"&page=").concat(this.page,"&include_adult=false");return fetch(e).then((function(e){return e.json()}))}},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"clearInput",value:function(){this.searchQuery.innerHTML=""}},{key:"pagination",value:function(e){this.page=e}}]),n}()),m=1;function _(){y.fetchMoviesByRequest().then((function(n){console.log(n),0==n.total_results&&(e(f).Notify.failure('"Sorry, there are no film with this name. Please try again."'),y.query="",L()),d=n.total_pages,p.refs.lastBtn.textContent=d,c(n),b()})).catch((function(e){return console.log(e)}))}function L(){y.fetchPopularMovies().then((function(e){d=e.total_pages,p.refs.lastBtn.textContent=d,b(),c(e)})).catch((function(e){return console.log(e)}))}function b(){p.refs.prevBtn.disabled=1===m,p.refs.nextBtn.disabled=m===d,p.refs.firstPage.hidden=m<4,p.refs.lastPage.hidden=m>d-3,function(){for(var e=m+2,n=m-2;n<=e;n+=1)n>0&&n<=d&&p.refs.pageList.insertAdjacentHTML("beforeend",'<li class="pages-item"><button type="button" class="pagination-btn">'.concat(n,"</button></li>"))}(),function(){for(var e=p.refs.pageList.querySelectorAll("button"),n=0;n<e.length;n+=1)Number(e[n].textContent)===m&&e[n].classList.add("active-btn")}()}v.addEventListener("click",(function(n){if(n.preventDefault(),y.query=h.value.trim(),""===y.query.trim())return void e(f).Notify.failure("Please enter the text in search field");p.refs.gallery.innerHTML="",h.value="",p.refs.pageList.innerHTML="",y.resetPage(),m=1,_()})),p.refs.paginationList.addEventListener("click",(function(e){if(e.preventDefault(),"BUTTON"!==e.target.nodeName)return;p.refs.gallery.innerHTML="",p.refs.pageList.innerHTML="",m=Number(e.target.textContent),y.pagination(m),y.query?_():L()})),p.refs.prevBtn.addEventListener("click",(function(e){e.preventDefault(),m>1&&(m-=1);p.refs.gallery.innerHTML="",p.refs.pageList.innerHTML="",y.pagination(m),y.query?_():L()})),p.refs.nextBtn.addEventListener("click",(function(e){e.preventDefault(),m!==d&&(m+=1);p.refs.gallery.innerHTML="",p.refs.pageList.innerHTML="",y.pagination(m),y.query?_():L()})),y.pagination(m),L()}();
//# sourceMappingURL=index.172df554.js.map
